{"apiVersion":"apps/v1","items":[{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"creationTimestamp":null,"labels":{"component":"sonobuoy","sonobuoy-component":"plugin","sonobuoy-plugin":"systemd-logs","sonobuoy-run":"94b9056f9d9d46f8","tier":"analysis"}},"spec":{"containers":[{"command":["/bin/sh","-c","/get_systemd_logs.sh; while true; do echo \"Plugin is complete. Sleeping indefinitely to avoid container exit and automatic restarts from Kubernetes\"; sleep 3600; done"],"env":[{"name":"CHROOT_DIR","value":"/node"},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"RESULTS_DIR","value":"/tmp/sonobuoy/results"},{"name":"SONOBUOY","value":"true"},{"name":"SONOBUOY_CONFIG_DIR","value":"/tmp/sonobuoy/config"},{"name":"SONOBUOY_K8S_VERSION","value":"v1.19.16"},{"name":"SONOBUOY_PROGRESS_PORT","value":"8099"},{"name":"SONOBUOY_RESULTS_DIR","value":"/tmp/sonobuoy/results"}],"image":"sonobuoy/systemd-logs:v0.4","imagePullPolicy":"IfNotPresent","name":"systemd-logs","resources":{},"securityContext":{"privileged":true},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/node","name":"root"},{"mountPath":"/tmp/sonobuoy/results","name":"results"}]},{"command":["/sonobuoy","worker","single-node","--level=trace","-v=6","--logtostderr","--sleep=-1"],"env":[{"name":"AGGREGATOR_URL","value":"https://[10.244.0.9]:8080"},{"name":"CA_CERT","value":"-----BEGIN CERTIFICATE-----\nMIIB3TCCAYOgAwIBAgIBATAKBggqhkjOPQQDAjBKMQwwCgYDVQQGEwNVU0ExFjAU\nBgNVBAcTDVBhbG8gQWx0bywgQ0ExDzANBgNVBAoTBlZNd2FyZTERMA8GA1UECxMI\nU29ub2J1b3kwHhcNMjIwNTMwMDYwODIzWhcNMjIwNjAxMDYwODIzWjBKMQwwCgYD\nVQQGEwNVU0ExFjAUBgNVBAcTDVBhbG8gQWx0bywgQ0ExDzANBgNVBAoTBlZNd2Fy\nZTERMA8GA1UECxMIU29ub2J1b3kwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQe\nrQ97uwNPJ+MJo4HFpakzvIrrqIXUkPiQ3xJY0ZrSgt4RetuG3DbGo/qcrwDGb7dk\n6DlMNqcpipc+vEsW2pPfo1owWDAOBgNVHQ8BAf8EBAMCAgQwDwYDVR0TAQH/BAUw\nAwEB/zAdBgNVHQ4EFgQUW7Aar0zGNymItF9+jvipwI0LYB4wFgYDVR0RBA8wDYIL\nc29ub2J1b3ktY2EwCgYIKoZIzj0EAwIDSAAwRQIgPv9iQ/sAw9NhUzosbGDTPzyz\n7QgspvI0080L1ES8FJECIQCMTTAAfu+4GpxUbWT7Wz/erH/BKNYbAHptRmfdnwsd\n3Q==\n-----END CERTIFICATE-----\n"},{"name":"CHROOT_DIR","value":"/node"},{"name":"CLIENT_CERT","valueFrom":{"secretKeyRef":{"key":"tls.crt","name":"sonobuoy-plugin-systemd-logs-94b9056f9d9d46f8"}}},{"name":"CLIENT_KEY","valueFrom":{"secretKeyRef":{"key":"tls.key","name":"sonobuoy-plugin-systemd-logs-94b9056f9d9d46f8"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"RESULT_TYPE","value":"systemd-logs"},{"name":"RESULTS_DIR","value":"/tmp/sonobuoy/results"},{"name":"SONOBUOY","value":"true"},{"name":"SONOBUOY_CONFIG_DIR","value":"/tmp/sonobuoy/config"},{"name":"SONOBUOY_DIR","value":"/tmp/sonobuoy"},{"name":"SONOBUOY_K8S_VERSION","value":"v1.19.16"},{"name":"SONOBUOY_NS","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"SONOBUOY_PLUGIN_POD","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SONOBUOY_PROGRESS_PORT","value":"8099"},{"name":"SONOBUOY_RESULTS_DIR","value":"/tmp/sonobuoy/results"},{"name":"SONOBUOY_WORKER_CONTAINER","value":"sonobuoy-worker"}],"image":"sonobuoy/sonobuoy:v0.56.6","imagePullPolicy":"IfNotPresent","name":"sonobuoy-worker","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/tmp/sonobuoy/results","name":"results"}]}],"dnsPolicy":"ClusterFirstWithHostNet","hostIPC":true,"hostNetwork":true,"hostPID":true,"nodeSelector":{"kubernetes.io/os":"linux"},"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"sonobuoy-serviceaccount","serviceAccountName":"sonobuoy-serviceaccount","terminationGracePeriodSeconds":30,"tolerations":[{"operator":"Exists"}],"volumes":[{"hostPath":{"path":"/","type":""},"name":"root"},{"emptyDir":{},"name":"results"}]}}}},"kind":"ControllerRevision","metadata":{"annotations":{"deprecated.daemonset.template.generation":"1","sonobuoy-driver":"DaemonSet","sonobuoy-plugin":"systemd-logs"},"creationTimestamp":"2022-05-30T06:08:24Z","labels":{"component":"sonobuoy","controller-revision-hash":"5699dddd65","sonobuoy-component":"plugin","sonobuoy-plugin":"systemd-logs","sonobuoy-run":"94b9056f9d9d46f8","tier":"analysis"},"name":"sonobuoy-systemd-logs-daemon-set-94b9056f9d9d46f8-5699dddd65","namespace":"sonobuoy","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"DaemonSet","name":"sonobuoy-systemd-logs-daemon-set-94b9056f9d9d46f8","uid":"221977dd-324e-4103-9906-7d817e2d79d1"}],"resourceVersion":"37419","selfLink":"/apis/apps/v1/namespaces/sonobuoy/controllerrevisions/sonobuoy-systemd-logs-daemon-set-94b9056f9d9d46f8-5699dddd65","uid":"4af16646-e5f9-4aa2-a786-70ef30781c28"},"revision":1}],"kind":"ControllerRevisionList","metadata":{"resourceVersion":"69311","selfLink":"/apis/apps/v1/namespaces/sonobuoy/controllerrevisions"}}
